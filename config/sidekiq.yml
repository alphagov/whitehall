:verbose: true
# We set concurrency to 1 because parts of the publishing pipeline
# are not threadsafe. Once we've removed instances of `I18n.with_locale`
# from the workers, we can increase this again.
:concurrency: 1
:logfile: ./log/sidekiq.json.log
:queues:
  - ['scheduled_publishing', 3]
  - ['default', 2]
  - ['publishing_api', 2]
  - ['email_alert_api_signup', 2]
  - ['bulk_republishing', 2]
  - ['sync_checks', 1]
  - ['link_checks', 1]
  - ['asset_migration', 1]
:schedule:
  check_all_organisations_links_worker:
    cron: '0 1 * * *' # Runs at 1 a.m every day
    class: CheckAllOrganisationsLinksWorker
