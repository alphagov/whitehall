<% content_for :page_title, "Attachments for #{attachable_model_name}" %>
<% content_for :title, "Attachments for #{attachable_model_name}" %>
<% if attachable.is_a?(Edition) %>
  <% content_for :context, "#{attachable.title}" %>
<% elsif attachable.is_a?(PolicyGroup) %>
  <% content_for :context, "#{attachable.name}" %>
<% end %>
<% content_for :error_summary do %>
  <% unless flash[:upload_error].blank? %>
    <%= render("govuk_publishing_components/components/error_summary", { title: "There is a problem", items: [{ text: flash[:upload_error], href: "#upload_files" }]}) %>
  <% end %>
<% end %>
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= render "components/secondary_navigation", {
      aria_label: "Document navigation",
      items: secondary_navigation_tabs_items(attachable, request.path),
    } %>

    <%= render("add", attachable:) %>

    <%= render "govuk_publishing_components/components/heading", {
      text: "Attachments",
      font_size: "l",
    } %>

    <%= render "govuk_publishing_components/components/inset_text", {
      text: attachment_note(attachable_model_name),
    } %>

    <%= render("attachments", attachable: attachable) if attachable.attachments.any? %>
  </div>
</div>
