<% required = required || false %>
<% right_to_left = right_to_left || false %>
<% translated_content = translated_content || nil %>
<% errors = errors || [] %>
<%= render "components/govspeak_editor", {
  label: {
    text: schema["title"] + (required ? " (required)" : ""),
    heading_size: "m",
  },
  id: path.form_control_id,
  name: path.form_control_name,
  value: (translated_content.presence || content),
  rows: 20,
  data_attributes: {
    attachment_ids: govspeak.attachments.map(&:id),
    image_ids: govspeak.images.map { |img| img[:id] }.to_json,
  },
  right_to_left:,
  error_items: errors_for(errors, path.validation_error_attribute.to_sym),
} %>
<% if translated_content.present? %>
  <%= render "govuk_publishing_components/components/details", {
    title: "Primary locale content for #{schema["title"]}",
  } do %>
    <%= content %>
  <% end %>
<% end %>
