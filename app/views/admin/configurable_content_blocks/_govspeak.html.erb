<% right_to_left = govspeak.right_to_left || false %>
<% translated_content = govspeak.translated_content || nil %>
<%= render "components/govspeak_editor", {
  label: {
    text: govspeak.type_config.attribute_label(govspeak.path.last) + (govspeak.type_properties.attribute_required?(govspeak.path.last) ? " (required)" : ""),
    heading_size: "m",
  },
  id: govspeak.path.form_control_id,
  name: govspeak.path.form_control_name,
  value: (translated_content.presence || govspeak.content),
  rows: 20,
  data_attributes: {
    attachment_ids: govspeak.attachments.map(&:id),
    image_ids: govspeak.images.map { |img| img[:id] }.to_json,
  },
  right_to_left:,
} %>
<% if translated_content.present? %>
  <%= render "govuk_publishing_components/components/details", {
    title: "Primary locale content for #{govspeak.type_config.attribute_label(govspeak.path.last)}",
  } do %>
    <%= govspeak.content %>
  <% end %>
<% end %>
