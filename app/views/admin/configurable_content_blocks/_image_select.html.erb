<% required = required || false %>
<% translated_content = translated_content || nil %>
<% select_options = [
     {
       text: "No image selected",
       value: "",
     },
   ] + image_select.images.map do |image|
  {
    text: image.filename,
    value: image.image_data.id,
    selected: image.image_data.id == (translated_content || content).to_i,
  }
end %>
<% errors = errors || [] %>
<%= render "govuk_publishing_components/components/select", {
  id: path.form_control_id,
  label: schema["title"] + (required ? " (required)" : ""),
  name: path.form_control_name,
  options: select_options,
  hint: schema["description"],
  heading_size: "m",
  error_items: errors_for(errors, path.validation_error_attribute.to_sym),
} %>
