<%= form.fields_for :featured_links, featured_link do |featured_link_form| %>
  <% if @translation_locale && @translation_locale.code != I18n.default_locale %>
    <%= render "components/translated_input", {
      input: {
        label: {
          text: "Title",
        },
        heading_size: "s",
        value: featured_link_form.object.title,
        name: "#{model}[featured_links_attributes][#{index}][title]",
        id: "#{model}_featured_links[#{index}]_title",
      },
      details: {
        text: featured_link_form.object.title,
      },
    } %>

    <%= render "components/translated_input", {
      input: {
        label: {
          text: "URL",
        },
        heading_size: "s",
        value: featured_link_form.object.url,
        name: "#{model}[featured_links_attributes][#{index}][url]",
        id: "#{model}_featured_links[#{index}]_url",
      },
      details: {
        text: featured_link_form.object.url,
      },
    } %>
  <% else %>
    <%= render "govuk_publishing_components/components/input", {
      label: {
        text: "Title",
      },
      heading_size: "s",
      value: featured_link_form.object.title,
      name: "#{model}[featured_links_attributes][#{index}][title]",
      id: "#{model}_featured_links[#{index}]_title",
    } %>

    <%= render "govuk_publishing_components/components/input", {
      label: {
        text: "URL",
      },
      heading_size: "s",
      value: featured_link_form.object.url,
      name: "#{model}[featured_links_attributes][#{index}][url]",
      id: "#{model}_featured_links[#{index}]_url",
    } %>
  <% end %>
<% end %>
