<% content_for :page_title, "Cabinet ministers ordering" %>
<% content_for :title, "Cabinet ministers ordering" %>

<% if reshuffle_in_progress? %>
  <%= render "govuk_publishing_components/components/heading", {
    text: "Preview ministers page in reshuffle mode",
    heading_level: 2,
    font_size: "m",
    margin_bottom: 3,
  } %>

  <p class="govuk-body govuk-!-margin-bottom-9">
    <%= link_to("Preview on website (opens in new tab)",
      "#{Plek.external_url_for('draft-origin')}/government/ministers",
      class: "govuk-link",
      target: "_blank", rel: "noopener") %>. Requires Signon access.
  </p>
<% end %>

<%= render "govuk_publishing_components/components/tabs", {
  tabs: [
    {
      id: "cabinet_minister",
      label: "Cabinet minister ordering",
      title: "Cabinet minister ordering",
      content: render("ministers_tab", roles: @cabinet_minister_roles, reorder_path: reorder_cabinet_minister_roles_admin_cabinet_ministers_path),
    },
    {
      id: "also_attends_cabinet",
      label: "Also attends cabinet ordering",
      title: "Also attends cabinet ordering",
      content: render("ministers_tab", roles: @also_attends_cabinet_roles, reorder_path: reorder_also_attends_cabinet_roles_admin_cabinet_ministers_path),
    },
    {
      id: "whips",
      label: "Whips ordering",
      title: "Whips ordering",
      content: render("ministers_tab", roles: @whip_roles, reorder_path: reorder_whip_roles_admin_cabinet_ministers_path),
    },
    {
      id: "organisations",
      label: "Organisations ordering",
      title: "Organisations ordering",
      content: render("organisations_tab", organisations: @organisations),
    },
  ],
} %>
