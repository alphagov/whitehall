<% page_title t("document.latest_from", subject: subject) %>
<% page_class "documents-index" %>
<% atom_discovery_link_tag filter_atom_feed_url, "Recent documents" %>

<header class="block headings-block">
  <div class="govuk-width-container">
    <% if  subject.is_a? Organisation %>
      <%= render "govuk_publishing_components/components/breadcrumbs", {
        breadcrumbs: [
          {
            title: "Home",
            url: "/",
          },
          {
            title: "Organisations",
            url: "/government/organisations",
          },
          {
            title: "#{subject}",
            url: "/government/organisations/#{subject['slug']}",
          },
        ]
      } %>
    <% elsif subject.respond_to?("type") && subject.type == "TopicalEvent" %>
        <%= render "govuk_publishing_components/components/breadcrumbs", {
          breadcrumbs: [
            {
              title: "Home",
              url: "/",
            },
            {
              title: "Topical events",
              url: "/government/topical-events",
            },
            {
              title: "#{subject}",
              url: "/government/topical-events/#{subject['slug']}",
            },
          ]
        } %>
    <% end %>
    <%= render "govuk_publishing_components/components/title", {
      context: {
        text: subject,
      },
      title: t("document.latest"),
    } %>
  </div>
</header>
<div class="block results">
  <div class="inner-block">
    <%= render "shared/feeds", atom_url: atom_feed_url_for(subject) %>
    <%= render "rummager_documents", documents: documents %>
    <%= paginate documents %>
  </div>
</div>
