<% content_for :context, product_name %>
<% content_for :title, "All content blocks" %>

<div class="govuk-grid-row govuk-!-margin-bottom-8">
  <div class="govuk-grid-column-full">
    <%= render "govuk_publishing_components/components/button", {
      text: "Create new object",
      href: content_block_manager.new_content_block_manager_content_block_document_path,
    } %>
  </div>
</div>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-one-third">
    <%= render(
          ContentBlockManager::ContentBlock::Document::Index::FilterOptionsComponent.new(
            filters: @filters,
            ),
          ) %>
  </div>
  <div class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-m"><%= pluralize(@content_block_documents.count, "result") %></h2>
    <hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible">
    <p class="govuk-body"><strong>Sorted by last updated first</strong></p>
    <% @content_block_documents.each do |content_block_document| %>
      <%= render ContentBlockManager::ContentBlock::Document::Index::SummaryCardComponent.new(content_block_document:) %>
    <% end %>
  </div>
</div>
