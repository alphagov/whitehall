<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <% if show_title? %>
      <h2 class="govuk-heading-m"><%= subschema_name.pluralize.titleize %></h2>
    <% end %>

    <%= render ContentBlockManager::Shared::EmbeddedObjects::SummaryCardComponent.with_collection(
      subschema_keys,
      content_block_edition: content_block_edition,
      object_type: subschema.block_type,
      redirect_url:,
      test_id_prefix: "embedded",
    ) %>

    <% if show_add_button? %>
      <%= render "govuk_publishing_components/components/button", {
        text: add_button_text,
        href: helpers.content_block_manager.new_embedded_object_content_block_manager_content_block_edition_path(
          content_block_edition,
          object_type: subschema.block_type,
        ),
        secondary_solid: true,
        margin_bottom: 6,
      } %>
    <% end %>
  </div>
</div>
